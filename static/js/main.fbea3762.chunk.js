(this["webpackJsonptv-movie-search-app"]=this["webpackJsonptv-movie-search-app"]||[]).push([[0],{63:function(e,t,a){},65:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),i=a.n(s),c=(a(63),a(24)),o=a.n(c),l=a(31),h=a(9),u=a(10),d=a(12),j=a(11),b=(a(65),a(32)),m=a.n(b),p=(a(84),a(58)),x=a(45),v=a(19),f=a(28),O=a(37),g=a(1),y=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.handleChange=function(t){e.setState({text:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.searchRequest(e.state.text)},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(x.a,{fixed:"top",bg:"dark",variant:"dark",className:"mb-3",children:[Object(g.jsx)(x.a.Brand,{className:"home-button",onClick:this.props.returnToHomePage,children:"TV & Movie Searching App"}),Object(g.jsx)(p.a,{className:"mr-auto"}),Object(g.jsxs)(f.a,{inline:!0,onSubmit:this.handleSubmit,children:[Object(g.jsx)(O.a,{type:"text",placeholder:"Search for a TV show, Movie, or Actor",htmlSize:"36",className:"mr-sm-1 text-center",onChange:this.handleChange,value:this.state.text}),Object(g.jsx)(v.a,{variant:"outline-secondary",onClick:this.handleSubmit,children:"Search"})]})]})}}]),a}(r.a.Component),w=(a(89),a(90),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.handleChange=function(t){e.setState({text:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.searchRequest(e.state.text)},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(f.a,{className:"search",onSubmit:this.handleSubmit,children:[Object(g.jsx)(f.a.Control,{className:"border border-secondary text-center",size:"lg",type:"text",placeholder:"Search for a TV show, Movie, or Actor",onChange:this.handleChange,value:this.state.text}),Object(g.jsx)(v.a,{variant:"secondary",onClick:this.handleSubmit,className:"m-2",children:"Search"})]})}}]),a}(r.a.Component)),k=a(26),R=a(20),S=function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(R.a,{className:"hero-img",src:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80"}),Object(g.jsx)(k.a,{fluid:!0,id:"container",children:Object(g.jsxs)(k.a,{fluid:!0,className:"w-75 search-area",children:[Object(g.jsx)(w,{searchRequest:e.searchRequest}),Object(g.jsxs)("div",{className:"attribution",children:["This product uses the ",Object(g.jsx)("a",{className:"tmdb-link",href:"https://www.themoviedb.org/documentation/api",rel:"noreferrer",target:"_blank",children:"TMDb API"})," but is not endorsed or certified by TMDb."]})]})})]})},_=(a(91),a(54)),N=(a(92),a(7)),D=a(25),T=a(44),C=a(55),P=a(56),F=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleChangeFocus=function(){e.props.handleChangeFocus(e.props.item)},e}return Object(u.a)(a,[{key:"buildBackdropUrl",value:function(e){return null===e?"https://fakeimg.pl/640x360":"https://image.tmdb.org/t/p/w500"+e}},{key:"render",value:function(){var e=this.props.item,t="tv"===e.media_type?e.name:e.title;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(N.a,{className:"recommendation-card shadow-sm",onClick:this.handleChangeFocus,children:[Object(g.jsx)(N.a.Img,{variant:"top",src:this.buildBackdropUrl(e.backdrop_path)}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(N.a.Title,{children:t}),Object(g.jsx)(N.a.Text,{children:e.overview})]})]},this.props.index)})}}]),a}(r.a.Component),I=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={expandedData:{},recommendations:[]},e.handleChangeFocus=function(t){return e.fetchData(t)},e.handleReturnToResults=function(){return e.props.handleReturnToResults()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchData(this.props.data)}},{key:"fetchData",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/"+t.media_type+"/"+t.id+"?api_key=8aaeb5fa2472dd850f957c983d0bb2e1&language=en-US&append_to_response=recommendations",e.prev=1,e.next=4,m.a.get(a);case 4:n=e.sent,this.setState({expandedData:n.data,recommendations:n.data.recommendations?n.data.recommendations.results:[]}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"buildPosterUrl",value:function(){var e=this.state.expandedData,t=this.props.data.media_type,a="movie"===t||"tv"===t?e.poster_path:e.profile_path;return a?"https://image.tmdb.org/t/p/w500/"+a:"https://i2.wp.com/www.theatrecr.org/wp-content/uploads/2016/01/poster-placeholder.png?ssl=1"}},{key:"resultType",value:function(){var e=this.props.data.media_type;return"movie"===e?"Movie":"tv"===e?"TV Show":"person"===e?"Person":void 0}},{key:"buildSeasonsTable",value:function(){if(this.state.expandedData.seasons){var e=[];return this.state.expandedData.seasons.forEach((function(t){0!==t.season_number&&e.push(t)})),Object(g.jsxs)(C.a,{striped:!0,bordered:!0,size:"sm",className:"my-3",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Season #"}),Object(g.jsx)("th",{children:"Episode Count"})]})}),Object(g.jsx)("tbody",{children:e.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)("td",{children:e.episode_count})]},t)}))})]})}}},{key:"buildGenreList",value:function(e){if(e.genres&&e.genres.length>0){var t,a="Genres: ",n=Object(_.a)(e.genres);try{for(n.s();!(t=n.n()).done;){a+=t.value.name+", "}}catch(r){n.e(r)}finally{n.f()}return a=a.substr(0,a.length-2),Object(g.jsx)("h5",{children:a})}}},{key:"buildHomepageJsx",value:function(e){if(null!==e.homepage&&""!==e.homepage)return Object(g.jsx)("h5",{children:Object(g.jsx)("a",{href:e.homepage,target:"_blank",rel:"noreferrer",children:"Link to Homepage"})})}},{key:"compilePersonData",value:function(e){return{resultName:e.name,resultPrimaryInfo:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("hr",{}),Object(g.jsx)("h4",{children:"Biography"})]}),resultOverview:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(N.a.Text,{className:"w-75 mx-auto",children:e.biography})})}}},{key:"compileMovieData",value:function(e){return{resultName:e.title,resultPrimaryInfo:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("hr",{}),Object(g.jsxs)("h3",{children:["Release Date: ",e.release_date]}),e.runtime>0?Object(g.jsxs)("h5",{children:["Runtime: ",e.runtime," min"]}):null,this.buildGenreList(e),this.buildHomepageJsx(e),Object(g.jsx)("hr",{}),Object(g.jsx)("h4",{children:"Overview"})]}),resultOverview:e.overview}}},{key:"compileTvShowData",value:function(e){return{resultName:e.name,resultPrimaryInfo:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("hr",{}),Object(g.jsxs)("h3",{children:["First Air Date: ",e.first_air_date]}),Object(g.jsxs)("h3",{children:["Last Air Date: ",e.last_air_date]}),e.in_production?Object(g.jsx)("h4",{children:"Still in production"}):Object(g.jsx)("h4",{children:"No longer in production"}),this.buildGenreList(e),Object(g.jsx)("br",{}),Object(g.jsxs)("h5",{children:["Number of Seasons: ",e.number_of_seasons]}),Object(g.jsxs)("h5",{children:["Number of Episodes: ",e.number_of_episodes]}),this.buildHomepageJsx(e),Object(g.jsx)("hr",{}),Object(g.jsx)("h4",{children:"Overview"})]}),resultOverview:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N.a.Text,{className:"w-75 mx-auto",children:e.overview}),this.buildSeasonsTable()]})}}},{key:"buildRecommendationSectionJsx",value:function(){var e=this;if(this.state.recommendations.length>0)return Object(g.jsxs)(N.a.Footer,{children:[Object(g.jsx)(N.a.Title,{className:"mx-auto",children:Object(g.jsx)("h2",{children:"Related Recommendations"})}),Object(g.jsx)(P.a,{children:this.state.recommendations.map((function(t,a){return Object(g.jsx)(F,{index:a,item:t,handleChangeFocus:e.handleChangeFocus},a)}))})]})}},{key:"compileItemJsx",value:function(){var e=this.props.data.media_type;return"movie"===e?this.compileMovieData(this.state.expandedData):"tv"===e?this.compileTvShowData(this.state.expandedData):"person"===e?this.compilePersonData(this.state.expandedData):void 0}},{key:"render",value:function(){window.scrollTo(0,0);var e=this.compileItemJsx();return Object(g.jsxs)(N.a,{className:"mx-auto my-3 outer-result-card",children:[Object(g.jsxs)(N.a,{className:"inner-result-card",children:[Object(g.jsx)(v.a,{className:"mx-auto",variant:"primary",onClick:this.handleReturnToResults,children:"Return to Search Results"}),Object(g.jsxs)(T.a,{children:[Object(g.jsx)(D.a,{lg:!0,className:"mx-2",children:Object(g.jsxs)(N.a.Title,{className:"mb-0 mt-1",children:[Object(g.jsx)(N.a.Text,{className:"text-muted",children:this.state.expandedData.tagline}),Object(g.jsx)(N.a.Img,{className:"mx-auto my-2 poster w-75",variant:"top",src:this.buildPosterUrl()})]})}),Object(g.jsx)(D.a,{lg:!0,className:"mx-auto",children:Object(g.jsxs)(N.a.Body,{children:[Object(g.jsxs)(N.a.Title,{children:[Object(g.jsx)("h1",{className:"display-4",children:e.resultName}),Object(g.jsx)("h5",{className:"text-muted",children:this.resultType()}),e.resultPrimaryInfo]}),e.resultOverview]})})]}),Object(g.jsx)(T.a,{className:"mx-auto my-2",children:Object(g.jsx)(v.a,{variant:"primary",onClick:this.handleReturnToResults,children:"Return to Search Results"})})]}),this.buildRecommendationSectionJsx()]})}}]),a}(r.a.Component),M=a(57),A=(a(93),a(14)),E="https://image.tmdb.org/t/p/w500/",J="https://i2.wp.com/www.theatrecr.org/wp-content/uploads/2016/01/poster-placeholder.png?ssl=1",H=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){e.props.expandResult(e.props.data)},e}return Object(u.a)(a,[{key:"resultType",value:function(){var e=this.props.data.media_type;return"movie"===e?"Movie":"tv"===e?"TV Show":"person"===e?"Person":void 0}},{key:"buildContributionList",value:function(e){var t=[];return e.known_for.forEach((function(e){var a;"movie"===e.media_type?a=e.title:"tv"===e.media_type&&(a=e.name);var n={title:a,data:e};t=[].concat(Object(M.a)(t),[n])})),t}},{key:"buildPosterUrl",value:function(){var e=this.props.data,t=this.props.data.media_type,a="movie"===t||"tv"===t?e.poster_path:e.profile_path;return a?E+a:J}},{key:"buildContributionPosterUrl",value:function(e){var t=e.data.media_type,a="movie"===t||"tv"===t?e.data.poster_path:e.data.profile_path;return a?E+a:J}},{key:"buildJsx",value:function(){var e=this,t=this.props.data,a=t.media_type,n="movie"===a?t.title:t.name,r="movie"===a||"tv"===a?"movie"===a?t.release_date:t.first_air_date:{};if("movie"===a||"tv"===a)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(A.a.Item,{children:Object(g.jsx)("em",{children:n})}),Object(g.jsx)(A.a.Item,{children:r}),Object(g.jsx)(A.a.Item,{children:t.overview})]});if("person"===a){var s=this.buildContributionList(t);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(A.a.Item,{children:n}),Object(g.jsxs)(A.a.Item,{children:["Known for ",t.known_for_department]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(A.a.Item,{children:Object(g.jsx)("u",{children:"Popular Contributions"})}),Object(g.jsx)(A.a,{horizontal:!0,children:s.map((function(t,a){return Object(g.jsxs)(A.a.Item,{className:"d-inline-block",children:[Object(g.jsx)("div",{children:Object(g.jsx)("em",{children:t.title})}),Object(g.jsx)(R.a,{className:"mx-auto known-for-poster",src:e.buildContributionPosterUrl(t)})]},a)}))})]})]})}}},{key:"render",value:function(){return Object(g.jsxs)(A.a,{horizontal:"md",className:"m-1 p-1 list-item mx-auto w-75",onClick:this.handleClick,children:[Object(g.jsx)(A.a.Item,{children:this.resultType()}),Object(g.jsx)(A.a.Item,{children:Object(g.jsx)(R.a,{className:"mx-auto small-poster",src:this.buildPosterUrl()})}),this.buildJsx()]})}}]),a}(r.a.Component),q=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isShowingExpandedResult:!1,expandedResultData:{}},e.handleExpandResult=function(t){e.setState({isShowingExpandedResult:!0,expandedResultData:t})},e.handleReturnFromExpandedResult=function(){e.setState({isShowingExpandedResult:!1,expandedResultData:{}})},e}return Object(u.a)(a,[{key:"buildListJsx",value:function(){var e=this;return this.state.isShowingExpandedResult?Object(g.jsx)(I,{data:this.state.expandedResultData,handleReturnToResults:this.handleReturnFromExpandedResult}):Object(g.jsx)(g.Fragment,{children:this.props.searchData.map((function(t,a){return Object(g.jsx)(H,{data:t,expandResult:e.handleExpandResult},a)}))})}},{key:"render",value:function(){return window.scrollTo(0,0),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(k.a,{className:"results-section m-1 mx-auto",fluid:!0,children:[this.buildListJsx(),Object(g.jsxs)("div",{className:"footer-text",children:["This product uses the ",Object(g.jsx)("a",{className:"tmdb-link",href:"https://www.themoviedb.org/documentation/api",rel:"noreferrer",target:"_blank",children:"TMDb API"})," but is not endorsed or certified by TMDb."]}),Object(g.jsx)(R.a,{className:"attribution-logo",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg"})]})})}}]),a}(r.a.Component),U="8aaeb5fa2472dd850f957c983d0bb2e1",B="https://api.themoviedb.org/3/",L=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isShowingResults:!1,searchData:{}},e.returnToHomePage=function(){e.setState({isShowingResults:!1,searchData:{}})},e.searchRequest=function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.returnToHomePage(),""===a){t.next=13;break}return n=B+"search/multi?api_key="+U+"&language=en-US&query="+a+"&page=1&include_adult=false",t.prev=3,t.next=6,m.a.get(n);case 6:r=t.sent,e.setState({isShowingResults:!0,searchData:r.data.results}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"displayPage",value:function(){return this.state.isShowingResults?Object(g.jsx)(q,{searchData:this.state.searchData}):Object(g.jsx)(S,{searchRequest:this.searchRequest})}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{searchRequest:this.searchRequest,returnToHomePage:this.returnToHomePage}),this.displayPage()]})}}]),a}(r.a.Component);a(94);i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(L,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.fbea3762.chunk.js.map